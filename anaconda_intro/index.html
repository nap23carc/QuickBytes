<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Intro to Conda with example - CARC QuickBytes</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Intro to Conda with example";
        var mkdocs_page_input_path = "anaconda_intro.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> CARC QuickBytes
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../workshop_slides/">Workshop Slides</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Systems</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../systems_information/">Systems Information</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../resource_limits/">Resource Limits</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../export_control/">Export Control</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Linux & HPC Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../linux_intro/">Linux Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../logging_in/">Logging in</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ssh_keygen_config/">SSH keys and Config file</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../transfer_data/">Transferring data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Intro_to_slurm/">Intro to Slurm</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pbs2slurm/">Converting PBS to Slurm</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../checking_on_running_jobs/">Check running jobs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../module_management/">Managing modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../slurm_accounting/">Intro to Slurm accounting at CARC</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../GNU_Parallel/">GNU Parallel</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../X11_forwarding/">X11 Forwarding</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Applications Tutorials</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >MATLAB</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../running_matlab_jobs/">Running MATLAB jobs at CARC</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ParallelMatlabServer/">Parallel MATLAB Server</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Parallel_MATLAB_profile_setup_and_batch_submission/">Parallel MATLAB batch submission</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Using_GPUs_on_Xena_with_MATLAB/">Using GPUs with MATLAB</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../MATLAB_Deep_Learning_on_Xena/">MATLAB Deep Learning on Xena</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >JupyterHub</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../parallelization_with_Jupyterhub_using_mpi/">JupyterHub Parallel Processing with MPI</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Conda_JupyterHub/">Conda python environments for JupyterHub</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../julia_with_jupyterhub/">Using Julia in JupyterHub</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Conda</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../anaconda_general_intro/">General intro to Conda</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Intro to Conda with example</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#what-is-anaconda">What is Anaconda?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#creating-a-new-conda-environment">Creating a new conda environment</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../anaconda_pip_channels/">Anaconda pip channels</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >R</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../R_usage/">R Programming in HPC</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://github.com/UNM-CARC/QuickBytes/tree/master/R_at_CARC">R at CARC</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Parallel_R_with_Future.ipynb">Running R in Parallel with Future</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Gurobi_optimizer_with_R/">Gurobi optimizer with R</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Machine Learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../Tensorflow_documentation/">Tensorflow</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../PyTorch_1.9_Xena/">Installing PyTorch on Xena</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../PyTorch_Classifier_Xena.ipynb">Example PyTorch Image Classification on Xena</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../multiGPU_tensorflow_tutorial.ipynb">Tensorflow with multiple GPUs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../parallel_jupyterhub_with_dask_and_scikit-learn/">Parallelization with JupyterHub using Dask and SciKit-learn</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Bioinformatics</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../GATK_QuickByte/">Genomic variant calling with GATK</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../genome_evaluation/">Genome evaluation with QUAST and BUSCO</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../psmc_quickbyte/">Single genome demographic history with PSMC</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Stacks_quickbyte/">Stacks for RAD-Seq Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Metabarcoding/">Metabarcoding with QIIME2, Mothur, and USEARCH</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Beast_at_CARC/">BEAST at CARC</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../msprime_quickbyte/">Population genetic simulations with msprime (backwards time</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Computational Chemistry</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../orca_wheeler_taos/">Orca on Wheeler and Taos</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../alphafold/">Alphafold</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Computational Immunology</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../SimCov/">SimCov on Wheeler</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Astronomy</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../mpiCASA/">CASA Radio Astronomy</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Paraview</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../paraview/">Paraview Wheeler</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Paraview_Hopper/">Paraview Hopper</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../singularity-markdown-version/">Docker and Singularity</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../haskell/">Haskell at CARC</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../spark/">Spark</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install_perl_libraries/">Installing Perl Libraries to Your Home Directory</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">CARC QuickBytes</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Applications Tutorials</li>
          <li class="breadcrumb-item">Conda</li>
      <li class="breadcrumb-item active">Intro to Conda with example</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="anaconda">Anaconda</h1>
<h3 id="what-is-anaconda">What is Anaconda?</h3>
<p>Fundamentally, Anaconda is a distribution of Python and R with a collection of associated packages optimized for data science. The installation and management of these packages is handled with the Anaconda package manager Conda. Conda is more than just a package manager however, it also creates and manages the environments that packages are installed in to. The usage of environments means you can have multiple versions of certain software installed in different environments and avoid conflicts or incompatibilities between software or dependencies. This is accomplished by installing packages into a separate directory which is then appended to your <code>PATH</code> when that environment is activated.</p>
<h3 id="creating-a-new-conda-environment">Creating a new conda environment</h3>
<p>Let's create an environment on Wheeler to run a python machine learning script that uses the TensorFlow library, python version 3.5, and the pandas library. Once you log in to Wheeler using <code>ssh</code> load the anaconda software module with the command:</p>
<p><code>module load anaconda3</code></p>
<p>We use <code>conda</code> to create new environments and install/upgrade packages within environments. To create our machine learning environment we type:</p>
<p><code>conda create --name TensorFlow python=3.5 pandas tensorflow</code></p>
<p>The command you are calling here is <code>conda</code> and you are telling it you want to <code>create</code> a new environment named TensorFlow with the packages python version 3.5 specifically, pandas, and tensorflow. When you enter this command <code>conda</code> prints out the plan for this environment to <code>stdout</code>:</p>
<pre><code class="language-bash">Solving environment: done

## Package Plan ##

  environment location: /users/yourusername/.conda/envs/TensorFlow

  added / updated specs:
    - pandas
    - python=3.5
    - tensorflow


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    certifi-2018.8.24          |           py35_1         139 KB
    termcolor-1.1.0            |           py35_1           7 KB
    pip-10.0.1                 |           py35_0         1.8 MB
    pytz-2018.5                |           py35_0         231 KB
    protobuf-3.6.0             |   py35hf484d3e_0         615 KB
    werkzeug-0.14.1            |           py35_0         426 KB
    astor-0.7.1                |           py35_0          43 KB
    libprotobuf-3.6.0          |       hdbcaa40_0         4.1 MB
    markdown-2.6.11            |           py35_0         104 KB
    mkl_fft-1.0.4              |   py35h4414c95_1         148 KB
    mkl_random-1.0.1           |   py35h629b387_0         364 KB
    tensorboard-1.10.0         |   py35hf484d3e_0         3.3 MB
    tensorflow-base-1.10.0     |mkl_py35h3c3e929_0        82.1 MB
    python-dateutil-2.7.3      |           py35_0         261 KB
    numpy-base-1.15.1          |   py35h81de0dd_0         4.2 MB
    wheel-0.31.1               |           py35_0          63 KB
    _tflow_1100_select-0.0.3   |              mkl           2 KB
    python-3.5.5               |       hc3d631a_4        28.3 MB
    setuptools-40.2.0          |           py35_0         571 KB
    grpcio-1.12.1              |   py35hdbcaa40_0         1.7 MB
    gast-0.2.0                 |           py35_0          15 KB
    absl-py-0.4.0              |   py35h28b3542_0         144 KB
    six-1.11.0                 |   py35h423b573_1          21 KB
    tensorflow-1.10.0          |mkl_py35heddcb22_0           4 KB
    pandas-0.23.4              |   py35h04863e7_0        10.0 MB
    numpy-1.15.1               |   py35h3b04361_0          37 KB
    ------------------------------------------------------------
                                           Total:       138.6 MB

The following NEW packages will be INSTALLED:

    _tflow_1100_select: 0.0.3-mkl
    absl-py:            0.4.0-py35h28b3542_0
    astor:              0.7.1-py35_0
    blas:               1.0-mkl
    ca-certificates:    2018.03.07-0
    certifi:            2018.8.24-py35_1
    gast:               0.2.0-py35_0
    grpcio:             1.12.1-py35hdbcaa40_0
    intel-openmp:       2018.0.3-0
    libedit:            3.1.20170329-h6b74fdf_2
    libffi:             3.2.1-hd88cf55_4
    libgcc-ng:          8.2.0-hdf63c60_1
    libgfortran-ng:     7.3.0-hdf63c60_0
    libprotobuf:        3.6.0-hdbcaa40_0
    libstdcxx-ng:       8.2.0-hdf63c60_1
    markdown:           2.6.11-py35_0
    mkl:                2018.0.3-1
    mkl_fft:            1.0.4-py35h4414c95_1
    mkl_random:         1.0.1-py35h629b387_0
    ncurses:            6.1-hf484d3e_0
    numpy:              1.15.1-py35h3b04361_0
    numpy-base:         1.15.1-py35h81de0dd_0
    openssl:            1.0.2p-h14c3975_0
    pandas:             0.23.4-py35h04863e7_0
    pip:                10.0.1-py35_0
    protobuf:           3.6.0-py35hf484d3e_0
    python:             3.5.5-hc3d631a_4
    python-dateutil:    2.7.3-py35_0
    pytz:               2018.5-py35_0
    readline:           7.0-ha6073c6_4
    setuptools:         40.2.0-py35_0
    six:                1.11.0-py35h423b573_1
    sqlite:             3.24.0-h84994c4_0
    tensorboard:        1.10.0-py35hf484d3e_0
    tensorflow:         1.10.0-mkl_py35heddcb22_0
    tensorflow-base:    1.10.0-mkl_py35h3c3e929_0
    termcolor:          1.1.0-py35_1
    tk:                 8.6.7-hc745277_3
    werkzeug:           0.14.1-py35_0
    wheel:              0.31.1-py35_0
    xz:                 5.2.4-h14c3975_4
    zlib:               1.2.11-ha838bed_2

Proceed ([y]/n)?
</code></pre>
<p>This gives you the list of all packages you requested to be installed and their dependencies, as well as the package version and build. Of note is the environment location pathway at the top of the package plan, you will notice that <code>conda</code> by default installs into your local directory and does not need administrative access to install packages. This means that you can administer your own Anaconda environments at CARC. </p>
<p>When you verify the package plan <code>conda</code> will proceed with downloading package binaries and installing them into the environment directory. You will see the progress of installation and a message with how to activate your environment once complete:</p>
<pre><code class="language-bash">Downloading and Extracting Packages
certifi-2018.8.24    |  139 KB | ####################################### | 100%
python-3.6.6         | 15.4 MB | ####################################### | 100%
tensorflow-base-1.10 | 55.3 MB | ####################################### | 100%
setuptools-40.2.0    |  554 KB | ####################################### | 100%
libprotobuf-3.6.0    |  3.8 MB | ####################################### | 100%
sqlite-3.24.0        |  2.2 MB | ####################################### | 100%
mkl-2018.0.3         | 149.2 MB| ###################################### | 100%
mkl_random-1.0.1     |  349 KB | ####################################### | 100%
mkl_fft-1.0.4        |  137 KB | ####################################### | 100%
openssl-1.0.2p       |  3.4 MB | ####################################### | 100%
six-1.11.0           |   21 KB | ####################################### | 100%
tensorflow-1.10.0    |    4 KB | ####################################### | 100%
numpy-base-1.15.1    |  4.0 MB | ####################################### | 100%
protobuf-3.6.0       |  604 KB | ####################################### | 100%
numpy-1.15.1         |   37 KB | ####################################### | 100%
intel-openmp-2018.0. | 1004 KB | ####################################### | 100%
absl-py-0.4.0        |  143 KB | ####################################### | 100%
tensorboard-1.10.0   |  3.3 MB | ####################################### | 100%
_tflow_1100_select-0 |    3 KB | ####################################### | 100%
Preparing transaction: done
Verifying transaction: done
Executing transaction: done
#
# To activate this environment, use:
# &gt; source activate TensorFlow
#
# To deactivate an active environment, use:
# &gt; source deactivate
#
</code></pre>
<p>Now we have our machine learning environment created to run our machine learning python script. To activate the environment we just created you use the command <code>source activate my_environment_name</code>, which is <code>source activate TensorFlow</code> for this example. Remember to include the lines below in your PBS script when working with Anaconda environments:</p>
<pre><code class="language-bash"># load anaconda software module
module load anaconda3

# activate your desired anaconda environment
source activate environment_name
</code></pre>
<p>For more information on managing environments visit the Conda documentation site at this <a href="https://conda.io/docs/user-guide/index.html">link</a>, or by adding the flag <code>--help</code> to any <code>conda</code> command, for example, <code>conda create --help</code> will print a help page for creating environments.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../anaconda_general_intro/" class="btn btn-neutral float-left" title="General intro to Conda"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../anaconda_pip_channels/" class="btn btn-neutral float-right" title="Anaconda pip channels">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../anaconda_general_intro/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../anaconda_pip_channels/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Paraview Hopper - CARC QuickBytes</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Paraview Hopper";
        var mkdocs_page_input_path = "Paraview_Hopper.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> CARC QuickBytes
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../workshop_slides/">Workshop Slides</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Linux & HPC Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../linux_intro/">Linux Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../logging_in/">Logging in</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ssh_keygen_config/">SSH keys and Config file</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../transfer_data/">Transferring data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Intro_to_slurm/">Intro to Slurm</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pbs2slurm/">Converting PBS to Slurm</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../checking_on_running_jobs/">Check running jobs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../module_management/">Managing modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../slurm_accounting/">Intro to Slurm accounting at CARC</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../GNU_Parallel/">GNU Parallel</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../X11_forwarding/">X11 Forwarding</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Applications Tutorials</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >MATLAB</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../running_matlab_jobs/">Running MATLAB jobs at CARC</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../ParallelMatlabServer/">Parallel MATLAB Server</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Parallel_MATLAB_profile_setup_and_batch_submission/">Parallel MATLAB batch submission</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Using_GPUs_on_Xena_with_MATLAB/">Using GPUs with MATLAB</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../MATLAB_Deep_Learning_on_Xena/">MATLAB Deep Learning on Xena</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >JupyterHub</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../parallelization_with_Jupyterhub_using_mpi/">JupyterHub Parallel Processing with MPI</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Conda_JupyterHub/">Conda python environments for JupyterHub</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../julia_with_jupyterhub/">Using Julia in JupyterHub</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Conda</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../anaconda_general_intro/">General intro to Conda</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../anaconda_intro/">Intro to Conda with example</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../anaconda_pip_channels/">Anaconda pip channels</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >R</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../R_usage/">R Programming in HPC</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://github.com/UNM-CARC/QuickBytes/tree/master/R_at_CARC">R at CARC</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Parallel_R_with_Future.ipynb">Running R in Parallel with Future</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Gurobi_optimizer_with_R/">Gurobi optimizer with R</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Machine Learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../Tensorflow_documentation/">Tensorflow</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../PyTorch_1.9_Xena/">Installing PyTorch on Xena</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../PyTorch_Classifier_Xena.ipynb">Example PyTorch Image Classification on Xena</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../multiGPU_tensorflow_tutorial.ipynb">Tensorflow with multiple GPUs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../parallel_jupyterhub_with_dask_and_scikit-learn/">Parallelization with JupyterHub using Dask and SciKit-learn</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Bioinformatics</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../GATK_QuickByte/">Genomic variant calling with GATK</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../genome_evaluation/">Genome evaluation with QUAST and BUSCO</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../psmc_quickbyte/">Single genome demographic history with PSMC</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Stacks_quickbyte/">Stacks for RAD-Seq Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Metabarcoding/">Metabarcoding with QIIME2, Mothur, and USEARCH</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Beast_at_CARC/">BEAST at CARC</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../msprime_quickbyte/">Population genetic simulations with msprime (backwards time</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Computational Chemistry</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../orca_wheeler_taos/">Orca on Wheeler and Taos</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../alphafold/">Alphafold</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Computational Immunology</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../SimCov/">SimCov on Wheeler</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Astronomy</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../mpiCASA/">CASA Radio Astronomy</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Paraview</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../paraview/">Paraview Wheeler</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Paraview Hopper</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#hopper-cluster-connection">Hopper Cluster Connection</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#method-1-direct-connection-off-campus">Method 1: Direct Connection (Off-Campus)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#method-2-reverse-connection-unm-on-campus">Method 2: Reverse Connection (UNM On-Campus)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#paraview-executables">ParaView executables</a>
    </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../singularity-markdown-version/">Docker and Singularity</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../haskell/">Haskell at CARC</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../spark/">Spark</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../install_perl_libraries/">Installing Perl Libraries to Your Home Directory</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Systems</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../resource_limits/">Resource Limits</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../export_control/">Export Control</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >JupyterHub cluster links</a>
    <ul>
                <li class="toctree-l2"><a class="" href="https://hopper.alliance.unm.edu:8000/">Hopper</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://xena.alliance.unm.edu:8000/">Xena</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://wheeler.alliance.unm.edu:8000/">Wheeler</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://taos.alliance.unm.edu:8000/">Taos</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">CARC QuickBytes</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Applications Tutorials</li>
          <li class="breadcrumb-item">Paraview</li>
      <li class="breadcrumb-item active">Paraview Hopper</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="remote-visualization-using-paraview-in-parallel">Remote Visualization using ParaView in parallel.</h1>
<p>ParaView is an open-source, multi-platform data analysis and visualization application. ParaView users can quickly build visualizations to analyze their data using qualitative and quantitative techniques. The data exploration can be done interactively in 3D or programmatically using ParaView's batch processing capabilities.</p>
<p>ParaView was developed to analyze extremely large datasets using distributed memory computing resources. It can be run on supercomputers to analyze datasets of petascale size.</p>
<p>These steps will help you setup Paraview to work as a client/server mode, being your laptop/desktop computer a client and the cluster a server. Be sure that the ParaView version installed on your local computer matches the same one that is installed on Wheeler and Hopper clusters.</p>
<p>To see a current list of paraview versions installed on CARC clusters login to the cluster and run</p>
<p><code>module spider paraview</code></p>
<ul>
<li>Downloads: https://www.paraview.org/download/</li>
<li>ParaView User's Guide: https://docs.paraview.org/en/latest/UsersGuide/index.html</li>
</ul>
<p><img alt="" src="https://github.com/UNM-CARC/QuickBytes/blob/c5ceed0f01bca6b102c0393306e602aa48189ba3/paraview_overview.png" /></p>
<h2 id="hopper-cluster-connection">Hopper Cluster Connection</h2>
<p>The most common approach to use ParaView on Hopper is through the Client-Server mode support by ParaView, which requires an installation of ParaView on your local computer (Client). There are two methods to connect to Paraview Server (PVSERVER):</p>
<h3 id="method-1-direct-connection-off-campus">Method 1: Direct Connection (Off-Campus)</h3>
<p>The process to connecto to ParaView is, in one terminal you will ask Hopper to assign you compute nodes, where you will run the ParaView server. Once the ParaView server is listening for connections, you will open an ssh tunnel in another terminal window (This process is from your local computer to one of the compute nodes you were assigned). Then, you will tell the ParaView client on your computer to connect to the tunnel and so to the compute nodes at CARC, where it will perform the rendering.</p>
<h4 id="terminal-1-login-to-hopper-and-allocate-resources">Terminal 1: Login to Hopper and allocate resources</h4>
<h4 id="1-login-to-hopper">1. Login to Hopper</h4>
<pre><code class="language-bash">  ssh username@hopper.alliance.unm.edu
</code></pre>
<h4 id="2-allocating-2-nodes-total-64-cores-for-30-minutes-in-the-general-queuepartition">2. Allocating 2 nodes : Total 64 cores for 30 minutes in the "General" queue/partition.</h4>
<pre><code class="language-bash">salloc --nodes 2 --exclusive --partition general --time 00:30:00
</code></pre>
<h4 id="3-load-module">3. Load Module</h4>
<pre><code class="language-bash">module load paraview/5.11.0
</code></pre>
<h4 id="4-running-pvserver-this-command-will-allow-a-connection-between-your-local-computer-and-hopper">4. Running pvserver (this command will allow a connection between your local computer and Hopper).</h4>
<pre><code class="language-bash">mpiexec -np 64 pvserver --mpi --force-offscreen-rendering --server-port=11111
</code></pre>
<p><img alt="" src="https://github.com/UNM-CARC/QuickBytes/blob/c5ceed0f01bca6b102c0393306e602aa48189ba3/paraview_salloc_nodes_hopper.png" /></p>
<h4 id="terminal-2-hopper-ssh-tunneling">Terminal 2: Hopper SSH Tunneling</h4>
<p>The hopper### corresponds to the compute node allocated by slurm, and do not forget to change your username. </p>
<pre><code class="language-bash">ssh -L 11111:hopper###:11111 username@hopper.alliance.unm.edu
</code></pre>
<p><img alt="" src="https://github.com/UNM-CARC/QuickBytes/blob/c5ceed0f01bca6b102c0393306e602aa48189ba3/paraview_hopper_ssh.png" /></p>
<h4 id="paraview-5110-rc1-client-and-setup-server-configuration">ParaView 5.11.0 RC1 Client and Setup Server Configuration</h4>
<ol>
<li>File --&gt; Connect </li>
<li>On the "Choose Server Configuration" window: </li>
<li>Click on "Add Server"</li>
<li>Name: Hopper</li>
<li>Server Type: "Client / Server"</li>
<li>
<p>Port: 11111</p>
</li>
<li>
<p>Click on "Configure"</p>
</li>
<li>Startup Type: Manual</li>
<li>Click on "Save"</li>
</ol>
<p><em>Note: To Verify, Client - Server setup, go to "View" and select "Memory Inspector"</em></p>
<p><img alt="" src="https://github.com/UNM-CARC/QuickBytes/blob/c5ceed0f01bca6b102c0393306e602aa48189ba3/paraview_memory_inspector.png" /></p>
<p>NOTE: When you are finished make sure to end the interactive job on the compute nodes. You can do this by exiting "Exit" the compute node or the "scancel" command on the cluster head node.</p>
<h3 id="method-2-reverse-connection-unm-on-campus">Method 2: Reverse Connection (UNM On-Campus)</h3>
<p>This process allows you to connect to Hopper service node. This process requires to know your localhost IP address "local_host_IP". Check your firewall setting if you are having firewall connectivity issues.</p>
<h4 id="terminal-1-login-to-hopper-and-allocate-resources_1">Terminal 1: Login to Hopper and allocate resources</h4>
<h4 id="1-login-to-hopper_1">1. Login to Hopper</h4>
<pre><code class="language-bash">  ssh username@hopper.alliance.unm.edu
</code></pre>
<h4 id="2-allocating-2-nodes-total-64-cores-for-30-minutes-in-the-general-queuepartition_1">2. Allocating 2 nodes : Total 64 cores for 30 minutes in the "General" queue/partition.</h4>
<pre><code class="language-bash">salloc --nodes 2 --exclusive --partition general --time 00:30:00
</code></pre>
<h4 id="3-load-module_1">3. Load Module</h4>
<pre><code class="language-bash">module load paraview/5.11.0
</code></pre>
<h4 id="4-running-pvserver-this-command-will-allow-a-connection-between-your-local-computer-and-hopper_1">4. Running pvserver (this command will allow a connection between your local computer and Hopper).</h4>
<pre><code class="language-bash">mpiexec -np 64 pvserver --mpi --force-offscreen-rendering --rc --client-host=My_Public_IP
</code></pre>
<h4 id="opening-paraview-5110-rc1-client-and-setup-server-configuration">Opening ParaView 5.11.0 RC1 Client and Setup Server Configuration</h4>
<p>Note: To Verify, Client - Server setup, go to "View" and select "Memory Inspector"</p>
<ol>
<li>File --&gt; Connect</li>
<li>On the "Choose Server Configuration" window:</li>
<li>Click on "Add Server"</li>
<li>Name: Hopper RC</li>
<li>Server Type: "Client / Server (Reverse Connection)"</li>
<li>
<p>Port: 11111</p>
</li>
<li>
<p>Click on "Configure"</p>
</li>
<li>Startup Type: Manual</li>
<li>Click on "Save"</li>
</ol>
<p>NOTE: When you are finished make sure to end the interactive job on the compute nodes. You can do this by exiting "Exit" the compute node or the "scancel" command on the cluster head node.</p>
<h2 id="paraview-executables">ParaView executables</h2>
<p>ParaView comes with several executables that serve different purposes. These are: paraview, pvpython, pvbatch, pvserver, pvdataserver and pvrenderserver. To learn more about this executables, https://docs.paraview.org/en/latest/UsersGuide/introduction.html#paraview-executables. </p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../paraview/" class="btn btn-neutral float-left" title="Paraview Wheeler"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../singularity-markdown-version/" class="btn btn-neutral float-right" title="Docker and Singularity">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../paraview/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../singularity-markdown-version/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
